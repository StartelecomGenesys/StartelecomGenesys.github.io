<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title> Demo Chat with custom launch button and form </title>
		
<script type="text/javascript" charset="utf-8">
  (function (g, e, n, es, ys) {
    g['_genesysJs'] = e;
    g[e] = g[e] || function () {
      (g[e].q = g[e].q || []).push(arguments)
    };
    g[e].t = 1 * new Date();
    g[e].c = es;
    ys = document.createElement('script'); ys.async = 1; ys.src = n; ys.charset = 'utf-8'; document.head.appendChild(ys);
  })(window, 'Genesys', 'https://apps.cac1.pure.cloud/genesys-bootstrap/genesys.min.js', {
    environment: 'prod-cac1',
    deploymentId: 'b88f54eb-bf3d-4acd-8f15-8a1fc0375805',
	debug: true
  });
  
   function openMessenger() {
      Genesys("command", "Messenger.open");
    }
	
	  /** Subscribe to Database.ready event before calling its command.**/
    Genesys("subscribe", "Database.ready", function() {
      // Set the data in the Database plugin. This data will automatically be included along when sending actual messages.
      Genesys("command", "Database.set", {
        messaging: {
          customAttributes: {
            name: "testing" , //placeholder for your parameters
			  account:"1256" ,
			  email: "m@test.ca",
			  token: "12345678",
			  lang:"EN"	
          }
        }
      })
    });
	
	
 /*Genesys("subscribe", "Messenger.ready", function() {
      document.getElementById("custom-launcher").style.display = "block";
    });
*/
document.addEventListener("DOMContentLoaded", function(){
    document.getElementById("custom-launcher").style.display = "block";
});
 
</script>
		
	</head>
	<body>

		<br><button id="custom-launcher" onclick="openMessenger()"> <img src="icon.svg"> </button>


	</body>
	
	<style>

#custom-launcher{
	background-color:transparent;
	border:none;
    position: fixed;
    bottom: 70px;
    right: 30px;
	height: 90px;
	width: 90px;
	cursor: pointer;
	display: none;
}

	</style>
	
</html>